---
trigger: model_decision
description: These rules must be applied whenever code is written that includes user-facing messages, especially when creating page.tsx or ./components/*
---

## Translation Principles

All user-facing messages must be defined in translation files (`/src/repository/next-intl/messages/en.json`, `/de.json`, etc.) and never hard-coded in components or actions.

### Structure

- The JSON structure must **mirror the project structure**:
   - `/src/app/...` → keys under `"app"`
   - `/src/features/<feature>` → keys under `"features.<feature>"`
   - Common/shared → keys under `"generic"`

Example: /src/app/admin/layout.tsx → "app.admin.header" /src/features/next-auth/components/RegisterForm.tsx → "features.next-auth.components.RegisterForm.form.email.label"

### Accessing Translations

Use `useTranslations("<path>")` or `getTranslations("<path>")` to bind to the correct namespace path, then call keys relative to that path.

Example:

```ts
const t = useTranslations("features.next-auth.components.RegisterForm.form.email")
<label>{t("label")}</label>
<input placeholder={t("placeholder")} />
This resolves against:

json
Copy code
{
  "features": {
    "next-auth": {
      "components": {
        "RegisterForm": {
          "form": {
            "email": {
              "label": "Email",
              "placeholder": "Enter your email"
            }
          }
        }
      }
    }
  }
}
```
